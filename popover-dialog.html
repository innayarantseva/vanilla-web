<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="common.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overlay Content</title>

    <style>
        #tooltip {
            top: calc(anchor(bottom) + 5px);
            justify-self: anchor-center;
            margin: 0;
        }
    </style>
</head>
<body>
    <main>
        <h1 style="view-transition-name: popover-dialog-title;">Overlay Content</h1>

        <p onclick="alert('üö® üö® üö® ALARM üö® üö® üö®')" style="cursor: pointer;">(Don't call the alarm!)</p>

        <p><b>There are two types of overlay content:</b></p>
        <ul>
            <li><u>Non-modal:</u> when the rest of the page is still interactive <a href="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API" target="_blank">(Popover API)</a></li>
            <li><u>Modal:</u> when a blocking action should be performed <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/dialog" target="_blank">(Dialog with <code>.showModal()</code>)</a></li>
        </ul>
    
        <section>
            <h2>Popover API: "Tooltip"</h2>
             <p>
                The tooltip is positioned using the CSS anchor positioning. 
                Assotiating the popover with a control allows us to use <code>anchor()</code> without manually referencing the control and the target.
                Read more on <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_anchor_positioning/Using#associating_anchor_and_positioned_elements" target="_blank">MDN</a>.
            </p>

            <button popovertarget="tooltip" id="tooltip-button">Toggle the popover</button>
            <div id="tooltip" popover>üéâ Popover content üçæ</div>
        </section>

        <section>
            <h2>Non-modal Dialog: Popover + Dialog</h2>
            <p>
                Normally, to open a dialog, you would need to trigger it with JS. 
                But popover can be controlled via HTML only. 
                You can use a combination of popover and dialog to get the open/close behavior for a dialog "for free".
            </p>
    
            <button popovertarget="popover-dialog">Open</button>
    
            <dialog id="popover-dialog" popover="auto">
                <h2>Non-modal Dialog</h2>
                <p>This is a popover dialog</p>
    
                <button popovertarget="popover-dialog">Close</button>
            </dialog>
        </section>
    
        <section>
            <h2>Modal: Dialog with a trap focus</h2>
            <p>Use <code>.showModal()</code> to open the dialog when you need the focus to be trapped inside the dialog.</p>
    
            <button onclick="document.getElementById('modal-dialog').showModal()">Open</button>
    
            <dialog id="modal-dialog">
                <h2>You need to submit this form to proceed:</h2>
    
                <input type="text" placeholder="Enter your name">
                <input type="email" placeholder="Enter your email">
                <input type="password" placeholder="Enter your password">
                <input type="submit" value="Submit">
            </dialog>
        </section>
    </main>

    <nav>
        <a href="index.html"><- Home</a>
        <a href="html-energy.html">Next: HTML Energy -></a>
    </nav>
</body>
</html>